(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],{346:function(e,t,a){},409:function(e,t,a){},489:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),s=a.n(r),c=a(16),i=a.n(c),o=(a(409),a(346),a(17)),l=a.n(o),d=a(30),u=a(120),b=a(33),p=a(106),h=a(178),j=a(4),m=a(355),x=a(514),g=a(212),f=a(81),O=a(531),k=a(93),v=a.n(k),C=a(282),y=a(293),S=a.n(y),w=a(292),N=a.n(w),T=a(518),F=a(229),D=a.n(F),z=a(147),E=a.n(z),A={fetchBasicData:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat("","/api/")).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchArchivedData:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat("","/api/archived")).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),postTaskForm:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat("","/api").concat(t),a).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteTask:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("".concat("","/api/").concat(t)).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),archiveOrCompleteTask:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat("","/api/put/").concat(a).concat(t)).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},_=a(378),I="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",B=Object(j.a)({root:{color:"#3880ff",height:2,padding:"40px 0 10px 10px"},thumb:{height:28,width:28,backgroundColor:"violet",boxShadow:I,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:I}}},active:{},valueLabel:{left:"calc(-50% + 12px)",fontSize:"1em",width:50,top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(O.a);function L(e){var t=e.title,a=e.minutes,r=e.isCompleted,s=e.handleSubTitleChange,c=e.handleSubSliderChange,i=e.handleSubCompletedChange;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{autoFocus:!0,value:t,label:"Subtask Name",style:{margin:8},placeholder:"Enter task name here",helperText:"",fullWidth:!0,margin:"normal",onChange:s,InputLabelProps:{shrink:!0}})}),Object(n.jsxs)("div",{className:"slider-width",children:[Object(n.jsx)(f.a,{id:"discrete-slider",gutterBottom:!0,style:{margin:8},children:"Subtask length"}),Object(n.jsx)(B,{defaultValue:a,style:{margin:8},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:15,marks:!0,min:15,max:480,onChange:c,valueLabelFormat:v.a.minutesToSlider(a)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(_.a,{style:{color:"purple"},checked:r,onChange:function(){return i()},size:"small",inputProps:{"aria-label":"checkbox with small size"}}),"Mark as done"]})]})}var M=a(71),P=a(163),R=a(532),W=Object(h.a)((function(e){return{root:{border:"4px solid lightgrey",padding:"5px",display:"flex",flexWrap:"wrap",backgroundColor:"white",maxWidth:"400px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},slider:{width:300},cancelButton:{maxWidth:"12px",maxHeight:"42px"},cancelButtonSub:{maxWidth:"12px",maxHeight:"42px",left:"-15px"},saveButton:{marginTop:"50px"},subTaskWrapper:{marginTop:"2px",maxWidth:"350px"},subSection:{borderLeft:"2px solid lightGray",listStyle:"none",paddingRight:"5%",marginBottom:"39px",backgroundColor:"rgb(179, 255, 217)"}}})),H="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",V=Object(j.a)({root:{color:"#3880ff",height:2,padding:"40px 0 10px 10px"},thumb:{height:28,width:28,backgroundColor:"violet",boxShadow:H,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:H}}},active:{},valueLabel:{left:"calc(-50% + 12px)",fontSize:"1em",width:50,top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(O.a);function K(e){return"".concat(e)}function U(e){var t=e.task,a=e.handleFetchChange,r=s.a.useState(),c=Object(b.a)(r,2)[1],i=s.a.useCallback((function(){return c({})}),[]);function o(){return(o=Object(d.a)(l.a.mark((function e(){var n,r,s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=void 0!==t.id?"/modify":"",r=void 0!==t.id?"modify":"create",s={id:t.id,created:t.created,modified:t.modified,title:I,minutes:w,due:G,subtasks:[],isCompleted:j,isArchived:t.isArchived},c=0;c<q.length;c++)s.subtasks.push({subtask_id:q[c].subtask_id,maintask_id:q[c].maintask_id,title:q[c].title,minutes:q[c].minutes,isCompleted:q[c].isCompleted});return e.prev=4,e.next=7,A.postTaskForm(n,s);case 7:200===(i=e.sent).status&&"modify"===r||201===i.status&&"create"===r?a(s,r,!0,"",!0):a(s,r,!1,i.status+": "+i.statusText,!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a(s,r,!1,""+e.t0.message,!0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var u=s.a.useState(t.isCompleted),h=Object(b.a)(u,2),j=h[0],O=h[1],k=s.a.useState(t.minutes),y=Object(b.a)(k,2),w=y[0],F=y[1],z=s.a.useState(t.title),E=Object(b.a)(z,2),I=E[0],B=E[1],H=s.a.useState(t.due),U=Object(b.a)(H,2),G=U[0],J=U[1],Y=s.a.useState(void 0!==t.subtasks?t.subtasks:[]),$=Object(b.a)(Y,2),q=$[0],Q=$[1],X=function(e){return function(t){var a=Object(p.a)(q);a[e].title=t.target.value,Q(a)}},Z=function(e){return function(t){var a=Object(p.a)(q);a[e].minutes=t.target.getAttribute("aria-valuenow"),Q(a)}},ee=function(e){return function(t){var a=Object(p.a)(q);!0===a[e].isCompleted?a[e].isCompleted=!1:a[e].isCompleted=!0,Q(a)}},te=function(e){return function(){var t=Object(p.a)(q);1===t.length&&F(q[0].minutes),t.splice(e,1),Q(t),i()}},ae=W();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:ae.root,children:Object(n.jsxs)("div",{className:"create-wrapper",children:[Object(n.jsx)(M.b,{to:"/",children:Object(n.jsx)(C.a,{color:"secondary",size:"small",className:ae.cancelButton,startIcon:Object(n.jsx)(N.a,{})})}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{autoFocus:!0,value:I,id:"title",label:"Task Name",style:{margin:8},placeholder:"Enter task name here",helperText:"",fullWidth:!0,margin:"normal",onChange:function(e){B(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(P.b,{utils:g.default,children:Object(n.jsxs)(x.a,{container:!0,className:"duedate",children:[Object(n.jsx)(f.a,{id:"datelabel",gutterBottom:!0,style:{margin:8,marginBottom:-10,fontSize:"2",color:"gray"},children:"Due Date (DEADLINE):"}),Object(n.jsx)(R.b,{style:{margin:8},margin:"normal",id:"due_date",format:"dd.MM.yyyy",value:G,disablePast:void 0===t.id,onChange:function(e){J(e)},KeyboardButtonProps:{"aria-label":"change due date"}})]})}),0===q.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:ae.slider,children:[Object(n.jsx)(f.a,{id:"ios-slider",gutterBottom:!0,style:{margin:8},children:"Adjust task length:"}),Object(n.jsx)(V,{disabled:void 0!==q&&q.length>0,style:{margin:8},defaultValue:w,getAriaValueText:K,valueLabelDisplay:"auto",step:15,marks:!0,min:15,max:480,onChange:function(e,t){F(t)},valueLabelFormat:v.a.minutesToSlider(w)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(_.a,{style:{color:"purple"},checked:j,onChange:function(){O(!j)},size:"small",inputProps:{"aria-label":"checkbox with small size"}}),"Mark this task as complete"]})]}):Object(n.jsx)(n.Fragment,{children:" "}),Object(n.jsxs)("div",{className:ae.subTaskWrapper,children:[Object(n.jsx)("div",{className:"create-subtask",children:Object(n.jsx)("ul",{style:{margin:0},children:q.map((function(e,t){return Object(n.jsxs)("li",{className:ae.subSection,children:[Object(n.jsx)(C.a,{color:"secondary",size:"small",className:ae.cancelButtonSub,startIcon:Object(n.jsx)(N.a,{}),onClick:te(t)}),Object(n.jsx)(L,{minutes:e.minutes,title:e.title,isCompleted:e.isCompleted,handleSubTitleChange:X(t),handleSubSliderChange:Z(t),handleSubCompletedChange:ee(t)})]},void 0!==e.subtask_id?e.subtask_id:e.list_id)}))})}),Object(n.jsxs)(T.a,{variant:"extended",color:"primary",style:{backgroundColor:"green",marginLeft:"20px"},size:"small",onClick:function(){Q([].concat(Object(p.a)(q),[{list_id:Math.random(),title:"Subtask "+(q.length+1),minutes:15,isCompleted:!1}]))},children:[Object(n.jsx)(D.a,{}),"ADD SUBTASK"]})]}),Object(n.jsx)("br",{}),""!==I?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(M.b,{to:"/",children:Object(n.jsx)(C.a,{variant:"contained",color:"primary",size:"medium",className:ae.saveButton,onClick:function(){!function(){o.apply(this,arguments)}()},startIcon:Object(n.jsx)(S.a,{}),children:"Save"})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{disableElevation:!0,disabled:!0,variant:"contained",color:"primary",size:"medium",className:ae.root,onClick:function(){},startIcon:Object(n.jsx)(S.a,{}),children:"Save"})})})]})})})}var G=a(31),J=a(285),Y=a.n(J);function $(){return Object(n.jsx)(T.a,{color:"primary","aria-label":"add",style:{padding:"40px"},size:"large",display:"table",margin:"auto","text-align":"center",children:Object(n.jsx)(D.a,{})})}var q=a(523),Q=a(525),X=a(524),Z=a(386),ee=a.n(Z),te=a(177),ae=a(388),ne=a.n(ae),re=a(387),se=a.n(re),ce=a(234),ie=a.n(ce),oe=a(233),le=a.n(oe),de=a(389),ue=a.n(de),be=a(515),pe=a(529),he=a(516),je=a(517),me=Object(h.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"}}}));function xe(e){var t=e.confirmDialog,a=e.setConfirmDialog,r=me();return Object(n.jsxs)(be.a,{open:t.isOpen,classes:{paper:r.dialog},children:[Object(n.jsx)(pe.a,{}),Object(n.jsxs)(he.a,{className:r.dialogContent,children:[Object(n.jsx)(f.a,{variant:"h6",children:t.title}),Object(n.jsx)(f.a,{variant:"subtitle2",children:t.subTitle})]}),Object(n.jsxs)(je.a,{className:r.dialogAction,children:[Object(n.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return a(Object(u.a)(Object(u.a)({},t),{},{isOpen:!1}))},children:"Cancel"}),Object(n.jsx)(C.a,{variant:"contained",color:"secondary",onClick:t.onConfirm,children:"Delete"})]})]})}var ge=Object(h.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},checkbox:{padding:"5px"},button:{padding:"10px"},listItem:{listStyle:"none"}}}));function fe(e){var t,a,r=e.taskObject,c=e.handleFetchChange,i=e.handleTaskChange,o=e.archivedMode,h=s.a.useState(r),j=Object(b.a)(h,2),m=j[0],x=j[1],g=s.a.useState((function(){var e=[];return r.subtasks.map((function(t,a){return e.push(Boolean(t.isCompleted))})),e})),O=Object(b.a)(g,2),k=O[0],y=O[1],S=s.a.useState((function(){var e=[];return r.subtasks.map((function(t,a){return e.push(Boolean(t.isCompleted))})),e})),w=Object(b.a)(S,2),N=w[0],T=(w[1],s.a.useState({isOpen:!1,title:"",subTitle:""})),F=Object(b.a)(T,2),D=F[0],z=F[1],E=function(e){var t=Object(p.a)(k);t[e]=!t[e],y(t)},I=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(u.a)({},m),a=0;a<k.length;a++)t.subtasks[a].isCompleted=k[a];x(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return e.prev=2,e.next=5,A.postTaskForm("/modify",m);case 5:200===(t=e.sent).status?c(m,"modify",!0,"",!0):c(m,"modify",!1,t.status+": "+t.statusText,!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c(m,"modify",!1,""+e.t0.message,!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="a+"===a?"archive":"unarchive",e.prev=1,e.next=4,A.archiveOrCompleteTask(t,a);case 4:200===(r=e.sent).status?c(m,n,!0,"",!0):c(m,n,!1,r.status+": "+r.statusText,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(m,n,!1,""+e.t0.message,!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.deleteTask(t);case 3:204===(a=e.sent).status?c(m,"delete",!0,"",!0):c(m,"delete",!1,a.status+": "+a.statusText,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(m,"delete",!1,""+e.t0.message,!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=ge();return Object(n.jsxs)("div",{className:"accordion-testi",children:[Object(n.jsxs)(q.a,{children:[Object(n.jsx)(Q.a,{expandIcon:Object(n.jsx)(ee.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(f.a,{className:"accordion-task-title",children:m.title})}),Object(n.jsx)(X.a,{children:Object(n.jsxs)(f.a,{children:[!1===o?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:"subtask-container",children:m.subtasks.map((function(e,t){return Object(n.jsx)("li",{className:R.listItem,children:Object(n.jsxs)("span",{className:"subtask-wrapper",children:[Object(n.jsx)(_.a,{style:{color:"purple"},className:R.checkbox,checked:k[t],onChange:function(){return E(t)},size:"small",inputProps:{"aria-label":"checkbox with small size"}},"checkbox"+e.id),Object(n.jsx)("span",{onClick:function(){return E(t)},children:e.title}),Object(n.jsx)("span",{className:"subtask-minutes",children:v.a.minutesToSubtask(e.minutes)})]})},void 0!==e.subtask_id?e.subtask_id:e.list_id)}))})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:"subtask-container",children:m.subtasks.map((function(e,t){return Object(n.jsx)("li",{className:R.listItem,children:Object(n.jsxs)("span",{className:"subtask-wrapper",children:[Object(n.jsx)("span",{children:e.title}),Object(n.jsx)("span",{className:"subtask-minutes",children:v.a.minutesToSubtask(e.minutes)})]})},void 0!==e.subtask_id?e.subtask_id:e.list_id)}))})}),Object(n.jsxs)("span",{className:"button-group",children:[Object(n.jsx)(te.a,{onClick:function(){z({isOpen:!0,title:'Delete "'.concat(m.title,'"?'),subTitle:"You can't undo this operation",onConfirm:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(m.id);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},variant:"contained",color:"secondary",className:R.button,style:{border:"none",margin:5,backgroundColor:"red",color:"black"},size:"small",children:Object(n.jsx)(se.a,{})}),!1===o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.b,{to:{pathname:"/edit"},children:Object(n.jsx)(te.a,{onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(m);case 2:c();case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"rgb(179, 217, 255)",border:"none",margin:5,color:"black"},variant:"contained",size:"small",className:R.button,children:Object(n.jsx)(ne.a,{})})}),Object(n.jsx)(te.a,{variant:"contained",color:"secondary",style:{backgroundColor:"rgb(255, 233, 120)",border:"none",color:"black",margin:5},className:R.button,size:"small",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(m.id,"a+");case 1:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)(le.a,{})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(te.a,{variant:"contained",color:"secondary",style:{backgroundColor:"violet",border:"none",color:"black",margin:5},className:R.button,size:"small",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(m.id,"a-");case 1:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)(ue.a,{})})})]}),(t=N,a=k,JSON.stringify(t)!==JSON.stringify(a)?Object(n.jsxs)("span",{className:"confirm-saves",children:[Object(n.jsx)("span",{className:"confirm-saves-text",children:"UNSAVED CHANGES"}),Object(n.jsx)(C.a,{style:{backgroundColor:"#ff8566",border:"none",fontSize:"1.2em",padding:"2px 5px 2px 5px",textShadow:"1px 1px #f8f7ed"},variant:"contained",size:"small",className:R.button,onClick:function(){return B()},startIcon:Object(n.jsx)(ie.a,{}),children:"SAVE"})]}):Object(n.jsx)(n.Fragment,{}))]})})]}),Object(n.jsx)(xe,{confirmDialog:D,setConfirmDialog:z})]})}var Oe=a(526),ke=a(527),ve=a(528),Ce=Object(h.a)({root:{minWidth:275,backgroundColor:"rgb(230, 230, 255)"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,color:"black"},pos:{marginBottom:12}});function ye(e){var t=e.message,a=e.icon,r=Ce();return Object(n.jsxs)(Oe.a,{className:r.root,children:[Object(n.jsx)(ve.a,{children:Object(n.jsxs)(f.a,{className:r.title,gutterBottom:!0,children:[a,t]})}),Object(n.jsx)(ke.a,{children:Object(n.jsx)(M.b,{to:"/",children:Object(n.jsx)(C.a,{color:"primary",size:"small",children:"BACK TO NORMAL MODE"})})})]})}var Se=a(356),we=a(391),Ne=a.n(we),Te=a(275),Fe=a(390),De=a.n(Fe);function ze(e){var t=e.snackinfo,a=(e.handleCloseSnack,t[0]),r=t[1],s=t[2],c=t[3],i=t[4],o="";switch(r){case"delete":o="DELETED";break;case"create":o="CREATED";break;case"modify":o="MODIFIED";break;case"archive":o="ARCHIVED";break;case"unarchive":o="UNARCHIVED";break;case"complete":o="COMPLETED";break;case"fetch":o="FETCH";break;default:o="UNKNOWN"}return i?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Te.a,{style:{padding:"4px",backgroundColor:s?"lightGreen":"darkRed",color:s?"black":"white"},className:"infobox",children:[s?Object(n.jsx)(ie.a,{style:{float:"left"}}):Object(n.jsx)(De.a,{style:{float:"left"}}),Object(n.jsx)("span",{style:{},children:s?Object(n.jsxs)(n.Fragment,{children:[" ",o," '",a.title,"'"," "]}):Object(n.jsxs)(n.Fragment,{children:[" ","Error while trying to ",r,": ",c," ",a.title]})})]})}):Object(n.jsx)(n.Fragment,{})}function Ee(e){var t=e.dataProps,a=e.isLoading,s=e.handleFetchChange,c=e.handleTaskChange,i=e.archivedMode,o=e.snackinfo,u=e.handleCloseSnack,p=Object(r.useState)([{dataProps:t}]),h=Object(b.a)(p,2),j=h[0],m=h[1];Object(r.useEffect)((function(){}),[j]),t!==j&&m(t);var x=j,g=[{title:"DUE",field:"due",type:"date",dateSetting:{locale:"fi-FI"},cellStyle:{fontSize:"0.9em",padding:5},headerStyle:{backgroundColor:"rgb(243, 243, 243)",borderRadius:0}},{title:"TASK",field:"title",cellStyle:{fontSize:"0.7em",padding:0},render:function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:"title-wrapper",children:Object(n.jsx)("span",{className:"title-row",children:Object(n.jsxs)("span",{className:"title-row-container",children:[Object(n.jsxs)("span",{className:"title-row-textcontainer",children:[Object(n.jsx)("span",{className:"title-row-accordion",children:Object(n.jsx)(fe,{handleTaskChange:c,taskObject:e,handleFetchChange:s,archivedMode:i})}),100!==e.meta.percentage_done?Object(n.jsxs)("span",{className:"title-row-time-after-title",children:[v.a.minutesToTitle(e.meta.minutes_left)," ","to do"," "]}):Object(n.jsx)("span",{className:"title-row-time-after-title",children:"Done! "})]}),100!==e.meta.percentage_done?Object(n.jsx)("span",{className:"title-row-percents",style:{width:e.meta.percentage_done+"%"}}):Object(n.jsx)("span",{className:"title-row-percents-done",style:{width:e.meta.percentage_done+"%"}})]})})})})}},{title:"DONE",field:"meta.percentage_done",dataType:"numeric",headerStyle:{backgroundColor:"rgb(247, 247, 247)"},cellStyle:{padding:5,fontSize:"0.8em",borderRadius:"0 0 0 7px"},render:function(e){return Object(n.jsx)("span",{children:Object(n.jsx)("span",{className:"done-container",onClick:100===e.meta.percentage_done||i?function(){return console.log("already completed")}:Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.archiveOrCompleteTask(e.id,"c+");case 2:s(e,"complete",!0,"",!0);case 3:case"end":return t.stop()}}),t)}))),style:{cursor:100===e.meta.percentage_done||i?"auto":"pointer",backgroundColor:100===e.meta.percentage_done||i?"white":"#e6ffe6"},children:100===e.meta.percentage_done?Object(n.jsx)("span",{className:"checkmark",children:"\u2714\ufe0f"}):Object(n.jsxs)("span",{className:"percentage",children:[e.meta.percentage_done,"%",i?Object(n.jsx)(n.Fragment,{children:" "}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(te.a,{variant:"contained",style:{border:"none",margin:5,backgroundColor:"violet",color:"black"},size:"small",children:Object(n.jsx)(Ne.a,{})})})]})})})}}];return a?Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Se.a,{}),Object(n.jsx)("br",{})," Loading..."," "]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:i?"archived-list":"todo-list",children:[Object(n.jsx)(ze,{snackinfo:o,handleCloseSnack:u}),!1===i?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"archive-button-container",children:Object(n.jsx)(M.b,{to:"/archived",onClick:u,style:{textDecoration:"none"},children:Object(n.jsx)(C.a,{style:{backgroundColor:"rgb(255, 233, 120)"},size:"small",children:"GO TO ARCHIVED MODE"})})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"archive-warning",children:Object(n.jsx)(ye,{icon:Object(n.jsx)(le.a,{style:{backgroundColor:"rgb(255, 233, 120)",float:"left"}}),message:"You are watching tasks that have been archived. Most functionalities have been disabled in this mode."})})}),Object(n.jsx)(Y.a,{className:i?"archived-material-table":"todo-material-table",title:i?"ARCHIVED":"TO DO",data:x,columns:g,options:{headerStyle:{position:"sticky",top:0},maxBodyHeight:"100vh",searchFieldStyle:{width:200},thirdSortClick:!0,emptyRowsWhenPaging:!1,selection:!1,pageSize:10}})]}),!1===i?Object(n.jsx)("div",{className:"add-task-button-container",children:Object(n.jsx)(M.b,{to:"/create",children:Object(n.jsx)($,{})})}):Object(n.jsx)(n.Fragment,{})]})}function Ae(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)([]),i=Object(b.a)(c,2),o=i[0],p=i[1],h=Object(r.useState)(!1),j=Object(b.a)(h,2),m=j[0],x=j[1],g=Object(r.useState)(1),f=Object(b.a)(g,2),O=f[0],k=f[1],v=Object(r.useState)([{title:"example",minutes:"30",due:null,isCompleted:!1,subtasks:[]},"add",!0,"",!1]),C=Object(b.a)(v,2),y=C[0],S=C[1],w=Object(r.useState)([{title:"",minutes:"30",due:null,isCompleted:!1,subtasks:[]}]),N=Object(b.a)(w,2),T=N[0],F=N[1],D=function(){var e=Object(u.a)({},y);e[4]=!1,S(e)},z=function(e,t,a,n,r){k(O+1),S([e,t,a,n,r])},E=function(e){F(e)};Object(r.useEffect)((function(){setTimeout((function(){return I()}),705),setTimeout((function(){return _()}),700)}),[O]);var _=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,A.fetchBasicData();case 4:t=e.sent,s(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error trying to get data from database.");case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,A.fetchArchivedData();case 4:t=e.sent,p(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:x(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(M.a,{children:Object(n.jsxs)(G.c,{children:[Object(n.jsx)(G.a,{exact:!0,path:"/",component:function(){return Object(n.jsx)(Ee,{handleTaskChange:E,dataProps:a,isLoading:m,needToFetch:O,handleFetchChange:z,archivedMode:!1,snackinfo:y,handleCloseSnack:D})}}),Object(n.jsx)(G.a,{path:"/archived",component:function(){return Object(n.jsx)(Ee,{handleTaskChange:E,dataProps:o,isLoading:m,needToFetch:O,handleFetchChange:z,archivedMode:!0,snackinfo:y,handleCloseSnack:D})}}),Object(n.jsx)(G.a,{path:"/create",component:function(){return Object(n.jsx)(U,{task:{title:"",minutes:"30",due:null,subtasks:[],isCompleted:!1},handleFetchChange:z})}}),Object(n.jsx)(G.a,{path:"/edit",component:function(){return Object(n.jsx)(U,{task:T,handleFetchChange:z})}})]})})})})}var _e=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,905)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsxs)(s.a.StrictMode,{children:[Object(n.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(n.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(n.jsx)(Ae,{})]}),document.getElementById("root")),_e()},93:function(e,t){e.exports={minutesToTitle:function(e){var t="",a=parseInt(e/60),n=e%60;return a>0&&(t+=a+"h "),n>0&&(t+=n+"min"),t},minutesToSlider:function(e){var t="",a=parseInt(e/60),n=e%60;return a>0&&(t+=a+"h"),n>0?t+=n+"min":0===n&&(t+="00min"),t},minutesToSubtask:function(e){var t="",a=parseInt(e/60),n=e%60;return a>0&&(t+=a+"h "),n>0&&(t+=n+" min"),t}}}},[[489,1,2]]]);
//# sourceMappingURL=main.3523e513.chunk.js.map